# Pane numbering
set -g renumber-windows on
set -g base-index 0
setw -g pane-base-index 0

# Unlimited scrollback!
set-option -g history-limit 100000

# TrueColor!
set-option -ga terminal-overrides ",xterm-256color*:Tc"

# C-b is not acceptable -- Vim uses it
# C-a is not acceptable -- I use it to go to the beginning of the term line
set-option -g prefix C-q
bind C-q last-window

# Copy text like vim
setw -g mode-keys vi

unbind [
unbind Space
bind-key Space copy-mode

bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection

unbind p
bind-key 'p' paste-buffer


# Fuzzy search through all sessions/windows
unbind s
bind s split-window -c "#{pane_current_path}" -v '~/.tmux/scripts/find.sh'

# Set reload config
unbind r
bind r source-file ~/.config/tmux/tmux.conf; display "Configuration reloaded."

# Move around panes like vim
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Split windows into panes like vim's splits
# preserving the current path
unbind '"'
unbind %
unbind v
unbind b
unbind c
bind v split-window -v -c "#{pane_current_path}"
bind b split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

# Trying it out
bind N previous-window

unbind L
bind L next-layout

# Status Bar
set -g status on
set -g status-interval 1

set -g status-justify centre
set -g status-position top

set -g status-left-length 50
set -g status-right-length 80

# source ~/.config/tmux/tmux.${OS_THEME}.conf
# source ~/.config/tmux/tmux.dark.conf
# source ~/.config/tmux/tmux.light.conf
source ~/.config/tmux/tmux.dark.catppuccin.conf
